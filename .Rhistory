source("EWMAvol.R")
myData <-
as.matrix(
cbind(
rnorm(250),
rnorm(250),
rnorm(250)
)
)
dim(myData)
dim(ewma.results)
ewma.results <- EWMAvol(myData, lambda=0.9305)
dim(ewma.results)
str(ewma.results)
dim(ewma.results$Sigma.t)
sigma.t <- ewma.results$Sigma.t
str(ewma.results)
dim(sigma.t)
last.sigma.t <- sigma.t[250, ]
lest.sigma.t
lsst.sigma.t
last.sigma.t
last.sigma.t <- as.matrix(last.sigma.t, dim = c(3,3))
last.sigma.t
last.sigma.t <- sigma.t[250, ]
last.sigma.t <- matrix(last.sigma.t, dim = c(3,3))
?as.matrix
last.sigma.t <- sigma.t[250, ]
last.sigma.t <- as.matrix(last.sigma.t, nrow = 3, ncol = 3)
last.sigma.t
last.sigma.t <- sigma.t[250, ]
last.sigma.t <- as.matrix(data = last.sigma.t, nrow = 3, ncol = 3)
?dim
last.sigma.t <- sigma.t[250, ]
dim(last.sigma.t) <- c(3,3)
last.sigma.t
myData <-
as.matrix(
cbind(
rnorm(250),
rnorm(250),
rnorm(250)
)
)
dim(myData)
ewma.results <- EWMAvol(myData, lambda=0.9305)
sigma.t <- ewma.results$Sigma.t
str(ewma.results)
dim(sigma.t)
sigma.t
myData <-
as.matrix(
cbind(
rnorm(250),
rnorm(250),
rnorm(250)
)
)
# dim(myData)
ewma.results <- EWMAvol(myData, lambda=0.9305)
sigma.t <- ewma.results$Sigma.t
#str(ewma.results)
#dim(sigma.t)
sigma.t
last.sigma.t <- sigma.t[250, ]
dim(last.sigma.t) <- c(3,3)
last.sigma.t
myData <-
as.matrix(
cbind(
rnorm(250),
rnorm(250),
rnorm(250)
)
)
# dim(myData)
ewma.results <- EWMAvol(myData, lambda=0.9305)
sigma.t <- ewma.results$Sigma.t
#str(ewma.results)
#dim(sigma.t)
sigma.t
last.sigma.t <- sigma.t[250, ]
dim(last.sigma.t) <- c(3,3)
last.sigma.t
myData <-
as.matrix(
cbind(
rnorm(250),
rnorm(250),
rnorm(250)
)
)
# dim(myData)
ewma.results <- EWMAvol(myData, lambda=0.9905)
sigma.t <- ewma.results$Sigma.t
#str(ewma.results)
#dim(sigma.t)
sigma.t
last.sigma.t <- sigma.t[250, ]
dim(last.sigma.t) <- c(3,3)
last.sigma.t
myData <-
as.matrix(
cbind(
rnorm(250),
rnorm(250),
rnorm(250)
)
)
# dim(myData)
ewma.results <- EWMAvol(myData, lambda=0.9905)
sigma.t <- ewma.results$Sigma.t
#str(ewma.results)
#dim(sigma.t)
sigma.t
last.sigma.t <- sigma.t[250, ]
dim(last.sigma.t) <- c(3,3)
last.sigma.t
myData <-
as.matrix(
cbind(
rnorm(250),
rnorm(250),
rnorm(250),
rnorm(250),
rnorm(250)
)
)
# dim(myData)
ewma.results <- EWMAvol(myData, lambda=0.9905)
sigma.t <- ewma.results$Sigma.t
#str(ewma.results)
#dim(sigma.t)
sigma.t
last.sigma.t <- sigma.t[250, ]
dim(last.sigma.t) <- c(5,5)
last.sigma.t
# dim(myData)
ewma.results <- EWMAvol(myData, lambda=0.505)
sigma.t <- ewma.results$Sigma.t
#str(ewma.results)
#dim(sigma.t)
sigma.t
last.sigma.t <- sigma.t[250, ]
dim(last.sigma.t) <- c(5,5)
last.sigma.t
# dim(myData)
ewma.results <- EWMAvol(myData, lambda=0.505)
sigma.t <- ewma.results$Sigma.t
#str(ewma.results)
#dim(sigma.t)
# sigma.t
last.sigma.t <- sigma.t[250, ]
dim(last.sigma.t) <- c(5,5)
last.sigma.t
myData <-
as.matrix(
cbind(
rnorm(250),
rnorm(250),
rnorm(250),
rnorm(250),
rnorm(250)
)
)
ewma.results <- EWMAvol(myData, lambda=0.505)
sigma.t <- ewma.results$Sigma.t
last.sigma.t <- sigma.t[250, ]
dim(last.sigma.t) <- c(5,5)
last.sigma.t
ewma.results <- EWMAvol(myData, lambda=0.505)
sigma.t <- ewma.results$Sigma.t
last.sigma.t <- sigma.t[250, ]
dim(last.sigma.t) <- c(5,5)
last.sigma.t
q()
pkn<-read.csv("data/PKNORLEN.txt")
str(pkn)
?as.date
?as.Date
pkn$date <- as.date(Date, format = "Y%m%d%")
pkn$date <- as.Date(Date, format = "Y%m%d%")
pkn$date <- as.Date(pkn$Date, format = "Y%m%d%")
pkn$date <- as.Date(as.character(pkn$Date), format = "Y%m%d%")
str(pkn)
pkn$date <- as.Date(as.character(pkn$Date), format = "%Y%m%d")
str(pkn)
pkn$Date <- NULL
str(pkn)
pkn$r <- diff(log(pkn$Close), k = 1)
pkn$r <- diff.xts(log(pkn$Close), k = 1)
require(xts)
pkn$r <- diff.xts(log(pkn$Close), k = 1)
str(pkn)
pkn$R <- diff.xts(pkn$Close, k = 1)/lag.xts(pkn$Close, lag = 1)
str(pkn)
pkn.ts <- ts(pkn[, c("date", "r")])
?ts
pkn.ts <- ts(pkn[, c("date")])
pkn.ts.expo <- HoltWinters(pkn.ts, beta = FALSE, gamma = FALSE)
pkn.ts.expo
plot(pkn.ts.expo)
pkn.ts <- ts(pkn[, c("r")])
pkn.ts.expo <- HoltWinters(pkn.ts, beta = FALSE, gamma = FALSE)
pkn.ts <- ts(pkn[2:length(pkn$r), c("r")])
pkn.ts.expo <- HoltWinters(pkn.ts, beta = FALSE, gamma = FALSE)
pkn.ts.expo
plot(pkn.ts.expo)
pkn.ts.expo <- HoltWinters(pkn.ts,
alpha = 0.5,
beta = FALSE, gamma = FALSE)
pkn.ts.expo
plot(pkn.ts.expo)
plot(pkn.ts.expo[1000:length(pkn.ts.expo)])
length(pkn.ts.expo)
plot(pkn.ts.expo)
pkn2 < pkn[pkn$date >= "2013-10-25" & pkn$date <= "2013-10-31", ]
pkn2 <- pkn[pkn$date >= "2013-10-25" & pkn$date <= "2013-10-31", ]
pkn.ts <- ts(pkn2[1:length(pkn$r), c("r")])
pkn.ts.expo <- HoltWinters(pkn.ts,
alpha = 0.5,
beta = FALSE,
gamma = FALSE)
pkn.ts.expo <- HoltWinters(pkn.ts,
#alpha = 0.5,
beta = FALSE,
gamma = FALSE)
pkn2
pkn.ts <- ts(pkn2[1:length(pkn2$r), c("r")])
pkn.ts.expo <- HoltWinters(pkn.ts,
#alpha = 0.5,
beta = FALSE,
gamma = FALSE)
pkn.ts.expo
plot(pkn.ts.expo)
pkn2 <- pkn[pkn$date >= "2013-01-01" & pkn$date <= "2013-10-31", ]
pkn2
pkn.ts <- ts(pkn2[1:length(pkn2$r), c("r")])
pkn.ts.expo <- HoltWinters(pkn.ts,
#alpha = 0.5,
beta = FALSE,
gamma = FALSE)
pkn.ts.expo
plot(pkn.ts.expo)
?HoltWinters
str(pkn.ts.expo)
pkn.ts.expo <- HoltWinters(pkn.ts,
alpha = 0.5,
beta = FALSE,
gamma = FALSE)
pkn.ts.expo
pkn.ts.expo
plot(pkn.ts.expo)
pkn.ts.expo <- HoltWinters(pkn.ts,
alpha = 0.5,
beta = FALSE,
gamma = FALSE)
plot(pkn.ts.expo)
pkn.ts.expo <- HoltWinters(pkn.ts,
alpha = 0.1,
beta = FALSE,
gamma = FALSE)
plot(pkn.ts.expo)
pkn.ts.expo <- HoltWinters(pkn.ts,
alpha = 0.05,
beta = FALSE,
gamma = FALSE)
plot(pkn.ts.expo)
pkn.ts.expo <- HoltWinters(pkn.ts,
alpha = 0.01,
beta = FALSE,
gamma = FALSE)
plot(pkn.ts.expo)
pkn.ts.expo <- HoltWinters(pkn.ts,
alpha = -0.01,
beta = FALSE,
gamma = FALSE)
q()
test1.data<-read.csv("data/test1.csv")
str(test1.data)
test1.data<-read.csv("data/test1.csv",
sep = ";")
str(test1.data)
test1.raw<-read.csv("data/test1.csv",
sep = ";")
str(test1.raw)
rm(test1.data)
test1.ts <- ts(test1.raw[1:length(test1.raw2$r), c("r")])
test1.ts <- ts(test1.raw[1:length(test1.raw$r), c("r")])
test1.expo <- HoltWinters(test1.ts,
alpha = -0.01,
beta = FALSE,
gamma = FALSE)
test1.expo <- HoltWinters(test1.ts,
alpha = 0.01,
beta = FALSE,
gamma = FALSE)
test1.ts <- ts(test1.raw[1:length(test1.raw$r), c("r")])
test1.expo <- HoltWinters(test1.ts,
alpha = 0.01,
beta = FALSE,
gamma = FALSE)
head(test1.raw)
tail(test1.raw)
test1.raw<-read.csv("data/test1.csv",
sep = ";")
str(test1.raw)
require(xts)
test1.ts <- ts(test1.raw[1:length(test1.raw$r), c("r")])
test1.expo <- HoltWinters(test1.ts,
alpha = 0.01,
beta = FALSE,
gamma = FALSE)
tail(test1.raw)
plot(test1.expo)
?order
test1.raw[with(test1.raw, order(-obs)), ]
test1.raw[with(test1.raw, order(obs)), ]
test1.raw<-read.csv("data/test1.csv",
sep = ";")
test1.raw <- test1.raw[with(test1.raw, order(obs)), ]
str(test1.raw)
test1.ts <- ts(test1.raw[1:length(test1.raw$r), c("r")])
test1.expo <- HoltWinters(test1.ts,
alpha = 0.01,
beta = FALSE,
gamma = FALSE)
tail(test1.raw)
plot(test1.expo)
test1.expo
test1.expo <- HoltWinters(test1.ts,
#alpha = 0.01,
beta = FALSE,
gamma = FALSE)
plot(test1.expo)
test1.expo
str(test1.expo)
str(test1.expo)$alpha
test1.expo$alpha
tmp.data <- test1.raw[test.1raw$obs <= 148,]
tmp.data <- test1.raw[test1.raw$obs <= 148,]
test1.ts <- ts(temp.data[1:length(tmp.data$r), c("r")])
test1.ts <- ts(tmp.data[1:length(tmp.data$r), c("r")])
test1.expo <- HoltWinters(test1.ts,
#alpha = 0.01,
beta = FALSE,
gamma = FALSE)
test1.expo$alpha
tmp.data <- test1.raw[test1.raw$obs <= 147,]
test1.ts <- ts(tmp.data[1:length(tmp.data$r), c("r")])
test1.expo <- HoltWinters(test1.ts,
#alpha = 0.01,
beta = FALSE,
gamma = FALSE)
test1.expo$alpha
tmp.data <- test1.raw[test1.raw$obs <= 2,]
test1.ts <- ts(tmp.data[1:length(tmp.data$r), c("r")])
test1.expo <- HoltWinters(test1.ts,
#alpha = 0.01,
beta = FALSE,
gamma = FALSE)
test1.expo$alpha
tmp.data <- test1.raw[test1.raw$obs <= 1,]
test1.ts <- ts(tmp.data[1:length(tmp.data$r), c("r")])
test1.expo <- HoltWinters(test1.ts,
#alpha = 0.01,
beta = FALSE,
gamma = FALSE)
test1.expo$alpha
test1.ts <- ts(tmp.data[1:length(tmp.data$r), c("r")])
test1.expo <- HoltWinters(test1.ts,
#alpha = 0.01,
beta = FALSE,
gamma = FALSE)
test1.alpha <- vector()
test1.alpha[2] <- test1.expo$alpha
test1.alpha
test1.alpha[5] <- test1.expo$alpha
test1.alpha
test1.alpha <- vector()
for(i in 2:length(test1.raw$r)){
tmp.data <- test1.raw[test1.raw$obs <= i,]
test1.ts <- ts(tmp.data[1:length(tmp.data$r), c("r")])
test1.expo <- HoltWinters(test1.ts,
#alpha = 0.01,
beta = FALSE,
gamma = FALSE)
test1.alpha[i] <- test1.expo$alpha
}
plot(test1.alpha)
plot(test1.alpha, type = "l")
test2.raw<-read.csv("data/test2.csv", sep = ";")
test2.raw <- test1.raw[with(test2.raw, order(obs)), ]
test2.alpha <- vector()
str(test1.alpha)
test1.raw$alpha_PS <- test1.alpha
write.csv(test1.raw, file = "test1data.csv")
test1.raw <- test1.raw[with(test1.raw, order(-obs)), ]
test1.raw$alpha_PS <- test1.alpha
write.csv(test1.raw, file = "test1data.csv")
test1.raw<-read.csv("data/test1.csv", sep = ";")
test1.raw <- test1.raw[with(test1.raw, order(obs)), ]
tail(test1.raw)
test1.raw<-read.csv("data/test1.csv", sep = ";")
head(test1.raw)
tail(test1.raw)
test1.raw<-read.csv("data/test1.csv", sep = ";")
head(test1.raw)
test1.raw <- test1.raw[with(test1.raw, order(obs)), ]
head(test1.raw)
test1.alpha <- vector()
for(i in 2:length(test1.raw$r)){
tmp.data <- test1.raw[test1.raw$obs <= i,]
test1.ts <- ts(tmp.data[1:length(tmp.data$r), c("r")])
test1.expo <- HoltWinters(test1.ts,
#alpha = 0.01,
beta = FALSE,
gamma = FALSE)
test1.alpha[i] <- test1.expo$alpha
}
head(test1.raw)
test1.raw <- test1.raw[with(test1.raw, order(-obs)), ]
head(test1.raw)
test1.raw<-read.csv("data/test1.csv", sep = ";")
test1.raw <- test1.raw[with(test1.raw, order(obs)), ]
head(test1.raw)
test1.alpha <- vector()
test2.alpha <- vector()
for(i in 2:length(test1.raw$r)){
tmp.data <- test1.raw[test1.raw$obs <= i,]
test1.ts <- ts(tmp.data[1:length(tmp.data$r), c("r")])
test1.expo <- HoltWinters(test1.ts,
#alpha = 0.01,
beta = FALSE,
gamma = FALSE)
test1.alpha[i] <- test1.expo$alpha
}
head(test1.raw)
test1.raw$alpha_PS <- test1.alpha
write.csv(test1.raw, file = "test1data.csv")
for(i in 2:length(test2.raw$r)){
tmp.data <- test2.raw[test2.raw$obs <= i,]
test1.ts <- ts(tmp.data[1:length(tmp.data$r), c("r")])
test1.expo <- HoltWinters(test1.ts,
#alpha = 0.01,
beta = FALSE,
gamma = FALSE)
test2.alpha[i] <- test2.expo$alpha
}
plot(test2.alpha, type = "l")
head(test2.raw)
test2.raw$alpha_PS <- test2.alpha
write.csv(test2.raw, file = "test2data.csv")
for(i in 2:length(test2.raw$r)){
tmp.data <- test2.raw[test2.raw$obs <= i,]
test2.ts <- ts(tmp.data[1:length(tmp.data$r), c("r")])
test2.expo <- HoltWinters(test2.ts,
#alpha = 0.01,
beta = FALSE,
gamma = FALSE)
test2.alpha[i] <- test2.expo$alpha
}
test2.raw<-read.csv("data/test2.csv", sep = ";")
test2.raw <- test1.raw[with(test2.raw, order(obs)), ]
test2.alpha <- vector()
for(i in 2:length(test2.raw$r)){
tmp.data <- test2.raw[test2.raw$obs <= i,]
test2.ts <- ts(tmp.data[1:length(tmp.data$r), c("r")])
test2.expo <- HoltWinters(test2.ts,
#alpha = 0.01,
beta = FALSE,
gamma = FALSE)
test2.alpha[i] <- test2.expo$alpha
}
test2.raw<-read.csv("data/test2.csv", sep = ";")
test2.raw <- test1.raw[with(test2.raw, order(obs)), ]
head(test1.raw)
head(test2.raw)
test2.raw<-read.csv("data/test2.csv", sep = ";")
head(test2.raw)
test2.raw <- test2.raw[with(test2.raw, order(obs)), ]
head(test2.raw)
tail(test2.raw)
test2.alpha <- vector()
for(i in 2:length(test2.raw$r)){
tmp.data <- test2.raw[test2.raw$obs <= i,]
test2.ts <- ts(tmp.data[1:length(tmp.data$r), c("r")])
test2.expo <- HoltWinters(test2.ts,
#alpha = 0.01,
beta = FALSE,
gamma = FALSE)
test2.alpha[i] <- test2.expo$alpha
}
plot(test2.alpha, type = "l")
head(test2.raw)
test2.raw$alpha_PS <- test2.alpha
write.csv(test2.raw, file = "test2data.csv")
-0.0410561272(1+0.0410561272)^148
-0.0410561272*(1+0.0410561272)^148
q()
